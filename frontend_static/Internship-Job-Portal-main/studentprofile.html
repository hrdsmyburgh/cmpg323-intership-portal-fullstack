{% extends "base.html" %}
{% load static %}

{% block content %}
<main>
  <div class="container p-0">
      <h1 class="h3 mb-3">Settings</h1>
      <div class="row">
          <div class="col-md-5 col-xl-4">
              <div class="card">
                  <div class="card-header">
                      <h5 class="card-title mb-0">Profile Settings</h5>
                  </div>
                  <div class="list-group list-group-flush" role="tablist">
                      <a class="list-group-item list-group-item-action active" data-toggle="list" href="#account" role="tab">
                        Account
                      </a>
                      <a class="list-group-item list-group-item-action" data-toggle="list" href="#password" role="tab">
                        Password
                      </a>
                  </div>
              </div>
          </div>

          <div class="col-md-7 col-xl-8">
              <div class="tab-content">
                  <div class="tab-pane fade show active" id="account" role="tabpanel">
                      <div class="card">
                          <div class="card-header">
                              <h5 class="card-title mb-0">Public info</h5>
                          </div>
                          <div class="card-body">
                              <form>
                                  <div class="row">
                                      <div class="col-md-8">
                                          <div class="form-group">
                                              <label for="inputUsername">Username</label>
                                              <input type="text" class="form-control" id="inputUsername" placeholder="Username">
                                          </div>
                                          <div class="form-group">
                                              <label for="inputBio">Biography</label>
                                              <textarea rows="2" class="form-control" id="inputBio" placeholder="Tell something about yourself"></textarea>
                                          </div>
                                      </div>
                                      <div class="col-md-4 text-center">
                                          <img alt="Profile Picture" src="{% static 'img/avatar/avatar1.png' %}" class="rounded-circle img-responsive mt-2" width="128" height="128">
                                          <div class="mt-2">
                                              <span class="btn btn-primary">Upload</span>
                                          </div>
                                          <small>For best results, use an image at least 128px by 128px in .jpg format</small>
                                      </div>
                                  </div>
                                  <button type="submit" class="btn btn-primary">Save changes</button>
                              </form>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
</main>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const userRole = localStorage.getItem('userRole');

    if (userRole === 'employer') {
        const myAppLink = document.getElementById('nav-myapplications');
        if (myAppLink) myAppLink.style.display = 'none';
    }
    if (userRole === 'student') {
        const empAdminLink = document.getElementById('nav-employeradmin');
        if (empAdminLink) empAdminLink.style.display = 'none';
    }

    const usernameField = document.getElementById('inputUsername');
    if (usernameField) {
        usernameField.value = localStorage.getItem('username') || '';
    }
});
</script>
{% endblock %}